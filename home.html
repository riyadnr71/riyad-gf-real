<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Flying Cards & Boom</title>
<link href="https://fonts.googleapis.com/css2?family=Short+Stack&family=Homemade+Apple&display=swap" rel="stylesheet">
<style>
/* ---------- Body & Canvas ---------- */
body {
  margin: 0;
  font-family: 'Short Stack', cursive;
  background: linear-gradient(to right, #fceabb, #f8b500);
  display: flex;
  flex-direction: column;
  align-items: center;
  height: 100vh;
  overflow: hidden;
}

#bgCanvas {
  position: fixed;
  top: 0; left: 0;
  width: 100vw; height: 100vh;
  z-index: -2;
}

/* ---------- Header ---------- */
.animated-header {
  text-align: center;
  width: 100%;
  margin: 10px 0;
  z-index: 25;
}
.animated-header h1 {
  font-family: 'Homemade Apple', cursive;
  font-size: 2rem;
  color: #ff4d6d;
  animation: colorChange 6s infinite alternate;
}
@keyframes colorChange {0%{color:#ff4d6d;}50%{color:#ff9999;}100%{color:#ff4d6d;}}

/* ---------- Cards ---------- */
.cards-container {
  position: relative;
  width: 90%;
  max-width: 320px;
  height: 420px;
  margin-bottom: 20px;
}
.card {
  position: absolute;
  width: 100%;
  height: 100%;
  background: #fff;
  border-radius: 20px;
  box-shadow: 0 10px 25px rgba(0,0,0,0.2);
  display: flex;
  flex-direction: column;
  transition: transform 0.5s ease, opacity 0.5s ease;
  opacity: 0;
  transform: scale(0.8);
  overflow: hidden;
}
.card.active {opacity:1; transform: scale(1);}

/* Image & Text */
.card-image {flex:0 0 60%; overflow:hidden;}
.card-image img {width:100%; height:100%; object-fit: cover; display:block;}

.card-text {
  flex:1 1 auto;
  padding:10px;
  text-align:center;
  overflow-y:auto;
  word-wrap:break-word;
}
.card-text p {margin:5px 0; font-size:14px; white-space:normal;}
.card-text::-webkit-scrollbar {width:6px;}
.card-text::-webkit-scrollbar-track {background:#fff; border-radius:3px;}
.card-text::-webkit-scrollbar-thumb {background:#ff6666; border-radius:3px;}
.card-text {scrollbar-width: thin; scrollbar-color: #ff6666 #fff;}

/* ---------- Buttons ---------- */
.buttons-container {display:flex; gap:12px; flex-wrap:wrap; margin-bottom:10px;}
button {padding:10px 15px; font-size:14px; cursor:pointer; border:none; border-radius:10px; background:#ff6666; color:white; transition: transform 0.2s ease;}
button:hover {transform: scale(1.05);}

/* Input Flying */
.fly-input-container {display:flex; gap:8px; flex-wrap:wrap; margin-bottom:20px;}
.fly-input-container input {padding:8px; border-radius:8px; border:none; width:200px;}
.fly-input-container button {padding:8px 12px; border-radius:8px; border:none; background:#ff6666; color:white; cursor:pointer;}

/* Flying Items */
#flyContainer {position:fixed; top:0; left:0; width:100vw; height:100vh; overflow:hidden; z-index:5;}
.fly-item {position:absolute; cursor:pointer; z-index:10; font-size:20px; font-weight: normal; transition: transform 0.3s ease, opacity 0.3s ease; opacity:0; animation: fadeIn 1s forwards;}
.fly-item img {width:80px; height:80px; border-radius:10px;}
@keyframes fadeIn {from{opacity:0; transform:scale(0.5) rotate(0deg);} to{opacity:1; transform:scale(1) rotate(0deg);}}
.fly-item.boom {animation: boom 0.5s forwards;}
@keyframes boom {0%{transform:scale(1) rotate(0deg); opacity:1;}100%{transform:scale(1.5) rotate(360deg); opacity:0;}}

/* Popup */
#popupOverlay {position:fixed; top:0; left:0; width:100vw; height:100vh; background:rgba(0,0,0,0.6); display:none; justify-content:center; align-items:center; z-index:30;}
#popupContent {background:#fff; padding:20px 30px; border-radius:15px; text-align:center; animation: popupScale 0.5s ease forwards;}
#popupContent p {font-size:18px; font-weight:bold; animation: textBounce 0.6s ease;}
#popupContent img {width:150px; height:150px; margin-top:10px; border-radius:10px;}
#cancelBtn {margin-top:15px; padding:8px 20px; font-size:16px; cursor:pointer; border:none; border-radius:10px; background:#ff6666; color:white;}
@keyframes popupScale {0%{transform:scale(0.5); opacity:0;}100%{transform:scale(1); opacity:1;}}
@keyframes textBounce {0%{transform:translateY(-20px); opacity:0;}50%{transform:translateY(10px); opacity:1;}100%{transform:translateY(0); opacity:1;}}

/* Responsive */
@media(max-width:600px){.cards-container{width:90%; height:300px;} .card-text p{font-size:14px;} .fly-input-container input{width:120px;} .animated-header h1{font-size:1.5rem;} .fly-item{font-size:16px;}}
</style>
</head>
<body>

<div class="animated-header"><h1>‚ú® Riyad Flying Cards ‚ú®</h1></div>

<div class="buttons-container">
  <button id="prevBtn">Previous Card</button>
  <button id="nextBtn">Next Card</button>
</div>

<div class="fly-input-container">
  <input type="text" id="flyInput" placeholder="Add flying text or image URL">
  <button id="flyAddBtn">Add Flying Item</button>
</div>

<div class="cards-container">
  <div class="card active">
    <div class="card-image"><img src="https://picsum.photos/300/200?1" alt=""></div>
    <div class="card-text"><p>‡¶§‡ßÅ‡¶Æ‡¶ø ‡¶Ø‡ßá‡¶Æ‡¶® ‡¶Æ‡¶ø‡¶∑‡ßç‡¶ü‡¶ø, ‡¶†‡¶ø‡¶ï ‡¶§‡ßá‡¶Æ‡¶®‡¶á ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶π‡¶æ‡¶∏‡¶ø ‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶Æ‡¶®‡¶ï‡ßá ‡¶Ü‡¶®‡¶®‡ßç‡¶¶‡ßá ‡¶≠‡¶∞‡ßá ‡¶¶‡ßá‡¶Ø‡¶º‡•§ ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ü‡¶ø ‡¶¶‡¶ø‡¶® ‡¶Ø‡ßá‡¶® ‡¶è‡¶ï ‡¶®‡¶§‡ßÅ‡¶® ‡¶ó‡¶≤‡ßç‡¶™‡•§</p></div>
  </div>
  <div class="card">
    <div class="card-image"><img src="https://picsum.photos/300/200?2" alt=""></div>
    <div class="card-text">
      <p>üíñ ‡¶§‡ßÅ‡¶Æ‡¶ø ‡¶Ø‡¶ñ‡¶® ‡¶π‡¶æ‡¶∏‡ßã, ‡¶Æ‡¶®‡ßá ‡¶π‡ßü ‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶™‡ßÉ‡¶•‡¶ø‡¶¨‡ßÄ‡¶ü‡¶æ ‡¶Ü‡¶≤‡ßã‡¶ï‡¶ø‡¶§ ‡¶π‡ßü‡ßá ‡¶Ø‡¶æ‡ßü‡•§ üå∏</p>
      <p>‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ü‡¶æ ‡¶Æ‡ßÅ‡¶π‡ßÇ‡¶∞‡ßç‡¶§ ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶ï‡¶•‡¶æ ‡¶≠‡¶æ‡¶¨‡¶§‡ßá ‡¶≠‡¶æ‡¶¨‡¶§‡ßá‡¶á ‡¶ï‡ßá‡¶ü‡ßá ‡¶Ø‡¶æ‡ßü‡•§ ‚ù§Ô∏è</p>
      <p>‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶∏‡¶¨ ‡¶≠‡¶æ‡¶≤‡ßã‡¶≤‡¶æ‡¶ó‡¶æ ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø‡¶á ‡¶Ü‡¶õ‡ßá‡•§ ‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶§‡ßÅ‡¶Æ‡¶ø ‡¶•‡¶æ‡¶ï‡ßã ‡¶™‡¶æ‡¶∂‡ßá‡•§ ‚ú®</p>
      <p>‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶ï‡¶æ‡¶ü‡¶æ‡¶®‡ßã ‡¶∏‡¶Æ‡ßü‡¶ü‡¶æ‡¶á ‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶∏‡¶¨‡¶ö‡ßá‡ßü‡ßá ‡¶™‡ßç‡¶∞‡¶ø‡¶Ø‡¶º ‡¶Æ‡ßÅ‡¶π‡ßÇ‡¶∞‡ßç‡¶§‡•§ üíï</p>
      <p>‡¶§‡ßÅ‡¶Æ‡¶ø ‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶ö‡¶ø‡¶®‡ßç‡¶§‡¶æ, ‡¶§‡ßÅ‡¶Æ‡¶ø ‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶∏‡ßç‡¶¨‡¶™‡ßç‡¶®, ‡¶§‡ßÅ‡¶Æ‡¶ø ‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶∏‡¶¨‡•§ üíñ</p>
    </div>
  </div>
  <div class="card">
    <div class="card-image"><img src="https://picsum.photos/300/200?3" alt=""></div>
    <div class="card-text"><p>‡¶Ü‡¶∞‡¶ì ‡¶∏‡ßÅ‡¶®‡ßç‡¶¶‡¶∞ ‡¶Æ‡ßÅ‡¶π‡ßÇ‡¶∞‡ßç‡¶§ ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶≤‡¶ø‡¶ñ‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßã‡•§ Scroll ‡¶ï‡¶∞‡ßá ‡¶™‡ßú‡¶æ ‡¶Ø‡¶æ‡¶¨‡ßá‡•§</p></div>
  </div>
</div>

<div id="flyContainer"></div>
<canvas id="bgCanvas"></canvas>

<div id="popupOverlay">
  <div id="popupContent">
    <p id="popupText"></p>
    <img id="popupImage" src="" alt="">
    <button id="cancelBtn">Cancel</button>
  </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', () => {
  // ---------- Cards ----------
  const cards = document.querySelectorAll('.card');
  let currentIndex = 0;
  const prevBtn = document.getElementById('prevBtn');
  const nextBtn = document.getElementById('nextBtn');

  function showCard(index){
    cards.forEach(c=>c.classList.remove('active'));
    cards[index].classList.add('active');
  }

  nextBtn.addEventListener('click', ()=>{
    currentIndex=(currentIndex+1)%cards.length;
    showCard(currentIndex);
  });
  prevBtn.addEventListener('click', ()=>{
    currentIndex=(currentIndex-1+cards.length)%cards.length;
    showCard(currentIndex);
  });
  showCard(currentIndex);

  // ---------- Particles ----------
  const canvas=document.getElementById('bgCanvas');
  const ctx=canvas.getContext('2d');
  canvas.width=window.innerWidth; canvas.height=window.innerHeight;

  class Particle{
    constructor(){this.x=Math.random()*canvas.width;this.y=Math.random()*canvas.height;this.size=Math.random()*5+2;this.speedX=Math.random()*2-1;this.speedY=Math.random()*2-1;this.color=`rgba(255,255,255,${Math.random()})`;}
    update(){this.x+=this.speedX;this.y+=this.speedY;if(this.x>canvas.width)this.x=0;if(this.x<0)this.x=canvas.width;if(this.y>canvas.height)this.y=0;if(this.y<0)this.y=canvas.height;}
    draw(){ctx.beginPath();ctx.arc(this.x,this.y,this.size,0,Math.PI*2);ctx.fillStyle=this.color;ctx.fill();}
  }
  const particlesArray=[];
  for(let i=0;i<100;i++) particlesArray.push(new Particle());
  function animateParticles(){ctx.clearRect(0,0,canvas.width,canvas.height);particlesArray.forEach(p=>{p.update(); p.draw();}); requestAnimationFrame(animateParticles);}
  animateParticles();
  window.addEventListener('resize',()=>{canvas.width=window.innerWidth; canvas.height=window.innerHeight;});

  // ---------- Flying Items ----------
  const flyContainer=document.getElementById('flyContainer');
  const popupOverlay=document.getElementById('popupOverlay');
  const popupText=document.getElementById('popupText');
  const popupImage=document.getElementById('popupImage');
  const cancelBtn=document.getElementById('cancelBtn');
  const flyInput=document.getElementById('flyInput');
  const flyAddBtn=document.getElementById('flyAddBtn');

  function addFlyItem(content){
    const item=document.createElement('div'); item.classList.add('fly-item');
    if(content.match(/\.(jpeg|jpg|gif|png)$/i)){item.innerHTML=`<img src="${content}">`;} else {item.innerText=content;}
    item.style.left=Math.random()*window.innerWidth+'px';
    item.style.top=Math.random()*window.innerHeight+'px';
    item.speedX=(Math.random()-0.5)*2; item.speedY=(Math.random()-0.5)*2;
    item.addEventListener('click', e=>{
      e.stopPropagation(); item.classList.add('boom');
      popupText.innerText="‡¶ï‡¶ø ‡¶∏‡ßÅ‡¶®‡ßç‡¶¶‡¶∞ ‡¶â‡¶†‡¶§‡¶ø‡¶õ‡¶ø‡¶≤‡ßá‡¶æ‡•§ ‡¶¶‡¶ø‡¶≤‡¶æ ‡¶§‡ßã ‡¶®‡¶∑‡ßç‡¶ü ‡¶ï‡¶∞‡ßá!";
      if(item.querySelector('img')){popupImage.src=item.querySelector('img').src; popupImage.style.display='block';}else{popupImage.style.display='none';}
      popupOverlay.style.display='flex';
    });
    flyContainer.appendChild(item);
  }

  // Default flying items
  addFlyItem("üíñ Riyad üíñ");
  addFlyItem("üòç Meghla üòç");
  addFlyItem("‚ú® Riyad+Meghla ‚ú®");
  addFlyItem('https://picsum.photos/80');

  function animateFlyItems(){
    const flyItems=document.querySelectorAll('.fly-item');
    flyItems.forEach(item=>{
      if(!item.classList.contains('boom')){
        let x=parseFloat(item.style.left), y=parseFloat(item.style.top);
        x+=item.speedX; y+=item.speedY;
        if(x>window.innerWidth)x=0;if(x<0)x=window.innerWidth;if(y>window.innerHeight)y=0;if(y<0)y=window.innerHeight;
        item.style.left=x+'px'; item.style.top=y+'px';
      }
    });
    requestAnimationFrame(animateFlyItems);
  }
  animateFlyItems();

  cancelBtn.addEventListener('click', ()=>{
    popupOverlay.style.display='none';
    document.querySelectorAll('.fly-item').forEach(item=>item.classList.remove('boom'));
  });

  flyAddBtn.addEventListener('click', ()=>{const val=flyInput.value.trim(); if(val) addFlyItem(val); flyInput.value='';});
  flyInput.addEventListener('keypress', e=>{if(e.key==='Enter') flyAddBtn.click();});
});
</script>

</body>
</html>
